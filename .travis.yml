# thanks -> http://blogs.perl.org/users/alex_balhatchet/2013/04/travis-ci-perl.html
language: perl
perl:
  - "5.20"
#  - "5.18"
#  - "5.16"
#  - "5.14"
#  - "5.12"
#  - "5.10"
before_install:
  # Prevent "Please tell me who you are" errors for certain DZIL configs
  - git config --global user.name "TravisCI"
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
install:
  # Deal with all of the DZIL dependancies, quickly and quietly
#  - cpanm --quiet --notest --skip-satisfied Dist::Zilla
#  - dzil authordeps | grep -vP '[^\w:]' | xargs -n 5 -P 10 cpanm --quiet --notest --skip-satisfied
#  - dzil listdeps | grep -vP '[^\w:]' |  xargs -n 5 -P 10 cpanm --quiet --notest --skip-satisfied
#  - cpanm --quiet --notest --skip-satisfied Test::Perl::Critic
#  - sudo apt-get install aspell moreutils
#  - cpanm --quiet --notest Devel::Cover::Report::Coveralls
#  - cpanm --quiet --notest Dist::Zilla::App::Command::cover
  - cpanm --quiet --notest --skip-satisfied Proc::Daemon Proc::ProcessTable Data::Dumper
script:
  - ifconfig
  - cat /etc/hosts
  - bin/travis_test.pl
  - ping -c 10 localhost &
  - ping -c 10 127.0.0.1 &
  - ps waux|grep ping
#  - dzil test
#after_success:
#  - dzil cover -outputdir cover_db -report coveralls
